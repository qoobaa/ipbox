<tr id="entry-<%= entry.id %>">
  <td>
    <%= entry.ended_at.to_date %>
  </td>
  <td>
    <%= entry.message %>
  </td>
  <td class="text-center">
    <%= entry.project.name %>
  </td>
  <td class="text-center">
    <%= entry.invoice&.number || "<small class='text-muted'>unassigned</small>".html_safe %>
  </td>
  <td class="text-center">
    <% if entry.development? %>
      <%= link_to "development", entry_path(entry), class: "badge badge-success", data: {method: :patch, remote: true, params: "entry[type]=maintenance"} %>
    <% end %>
    <% if entry.maintenance? %>
      <%= link_to "maintenance", entry_path(entry), class: "badge badge-secondary", data: {method: :patch, remote: true, params: "entry[type]=development"} %>
    <% end %>
  </td>
  <td class="text-center" data-controller="entry-hours">
    <%= form_for entry, url: entry_path(entry), data: {remote: true, target: "entry-hours.form"}, html: {class: "d-none"} do |form| %>
      <div class="input-group input-group-sm">
        <%= form.hidden_field :exact, value: true %>
        <%= form.number_field :hours, min: 0, max: 8, step: 0.5, autocomplete: "off", class: "form-control", data: {target: "entry-hours.input"}%>
        <div class="input-group-append">
          <%= form.submit "âœ”", class: "btn btn-success" %>
          <%= button_tag "âœ—", type: "button", class: "btn btn-danger", data: {action: "entry-hours#cancel"} %>
        </div>
      </div>
    <% end %>
    <%= link_to "#{entry.hours}h", "javascript:void(0)", data: {action: "entry-hours#edit", target: "entry-hours.link"} %>
  </td>
  <td>
    <%= link_to "&times;".html_safe, entry_path(entry), class: "text-danger", data: {method: :delete, confirm: "Are you sure?", remote: true} %>
  </td>
</tr>
